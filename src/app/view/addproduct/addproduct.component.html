<app-header></app-header>
<div class="container">
  <div class="alert alert-dark" role="alert">
    Agregar / Editar Productos
  </div>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">

    <div class="container-fluid">


      <form class="d-flex" role="search">
        <input  class="form-control me-2" type="search" [formControl]="ctrlKey" placeholder="Clave:" aria-label="Search">
        <input  class="form-control me-2" type="search" [formControl]="ctrlName" placeholder="Nombre:" aria-label="Search">
        <input  class="form-control me-2" type="search" [formControl]="ctrlPrice" placeholder="Precio $:" aria-label="Search">
      </form>
      <mat-checkbox class="example-margin" [checked]=checkAvalible (click)="selectkAvalible()">Activo!</mat-checkbox>


      <div>

        <mat-chip-listbox aria-label="Fish selection">
          <mat-chip-option [selected]=checkType1 (click)="findTypeP1()">Electr√≥nicos</mat-chip-option>
          <mat-chip-option [selected]=checkType2 (click)="findTypeP2()">Muebles</mat-chip-option>
          <mat-chip-option [selected]=checkType3 (click)="findTypeP3()">Deportes</mat-chip-option>
          <mat-chip-option [selected]=checkType4 (click)="findTypeP4()">Hogar</mat-chip-option>
        </mat-chip-listbox>
      </div>
    </div>
  </nav>
  <br>
  <mat-icon type="button" (click)="AbrirModal(contenidoSupplier)">add_to_photos</mat-icon>&nbsp;&nbsp;
  <mat-icon (click)="refreshSupplier()">autorenew</mat-icon>

  <table mat-table [dataSource]="ELEMENT_DATA" class="mat-elevation-z8">

    <!-- Name Column -->
    <ng-container matColumnDef="strname">
      <th mat-header-cell *matHeaderCellDef> Producto </th>
      <td mat-cell *matCellDef="let element"> {{element.strname}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="strkeysupp">
      <th mat-header-cell *matHeaderCellDef> Clave Producto </th>
      <td mat-cell *matCellDef="let element"> {{element.strkeysupp}} </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="dlcost">
      <th mat-header-cell *matHeaderCellDef> Precio </th>
      <td mat-cell *matCellDef="let element"> {{element.dlcost}} </td>
    </ng-container>

    <ng-container matColumnDef="Acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let element"> <mat-icon (click)="editSupplier(contenidoSupplierEdit,
                                                                  element.id.intidp,
                                                                  element.id.intids,
                                                                  element.strkeysupp,
                                                                  element.dlcost)">edit</mat-icon>&nbsp;&nbsp;&nbsp;&nbsp;
                                              <mat-icon (click)="deleteSupplier(element.id.intids, element.strname)">delete</mat-icon>
      </td>
    </ng-container>



    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <br>
  <div class="">
    <p style="float: right;">
      <button mat-raised-button color="primary" (click)="saveAll()">Guardar</button>
    </p>
  </div>
  <div style="clear: both;"></div>


</div>

<!--MODAL ADD PROVEDOR-->
<ng-template #contenidoSupplier let modal>
  <div class="modal-header">
      <h4 class="modal-title">
          &nbsp;&nbsp;
          Agregar Proveedor
      </h4>
      <button class="close" aria-label="close" type="button"  (click)="cerrarModal()">
          <span aria-hidden="true">&times;</span>
      </button>

  </div>
  <div class="modal-body">

    <mat-chip-listbox aria-label="Fish selection">
      <mat-chip-option (click)="findBytype1()" [selected]="checkTypesc1" [disabled]="checkTypes1">InnovateTech Solutions</mat-chip-option>
      <mat-chip-option (click)="findBytype2()" [selected]="checkTypesc2" [disabled]="checkTypes2">BioHarvest Innovations</mat-chip-option>
      <mat-chip-option (click)="findBytype3()" [selected]="checkTypesc3" [disabled]="checkTypes3">Quantum Logistics</mat-chip-option>
      <mat-chip-option (click)="findBytype4()" [selected]="checkTypesc4" [disabled]="checkTypes4">ProVision Enterprises</mat-chip-option>
      <mat-chip-option (click)="findBytype5()" [selected]="checkTypesc5" [disabled]="checkTypes5">EcoPower Solutions</mat-chip-option>

    </mat-chip-listbox>

    <input type="text" [formControl]="ctrlSkey" placeholder="Clave:" class="form-control" maxlength="100" />
    <input type="text" [formControl]="ctrlScost" placeholder="Costo: $" class="form-control" maxlength="100" />
    <br>



  </div>
  <div class="modal-footer">
    <button mat-raised-button  color="warn" (click)="cerrarModal()">cancelar</button>
    <button mat-raised-button  color="primary" (click)="guardarSupplier()">Guardar</button>
  </div>
</ng-template>

<!--MODAL EDIT PROVEDOR-->

<ng-template #contenidoSupplierEdit let modal>
  <div class="modal-header">
      <h4 class="modal-title">
          &nbsp;&nbsp;
          Editar Proveedor
      </h4>
      <button class="close" aria-label="close" type="button"  (click)="cerrarModal()">
          <span aria-hidden="true">&times;</span>
      </button>

  </div>
  <div class="modal-body">

    <mat-chip-listbox aria-label="Fish selection">
      <mat-chip-option (click)="findBytype1()" [selected]="checkTypesc1" [disabled]="checkTypes1">InnovateTech Solutions</mat-chip-option>
      <mat-chip-option (click)="findBytype2()" [selected]="checkTypesc2" [disabled]="checkTypes2">BioHarvest Innovations</mat-chip-option>
      <mat-chip-option (click)="findBytype3()" [selected]="checkTypesc3" [disabled]="checkTypes3">Quantum Logistics</mat-chip-option>
      <mat-chip-option (click)="findBytype4()" [selected]="checkTypesc4" [disabled]="checkTypes4">ProVision Enterprises</mat-chip-option>
      <mat-chip-option (click)="findBytype5()" [selected]="checkTypesc5" [disabled]="checkTypes5">EcoPower Solutions</mat-chip-option>

    </mat-chip-listbox>

    <input type="text" [formControl]="ctrlSkey" placeholder="Clave:" class="form-control" maxlength="100" />
    <input type="text" [formControl]="ctrlScost" placeholder="Costo: $" class="form-control" maxlength="100" />
    <br>



  </div>
  <div class="modal-footer">
    <button mat-raised-button  color="warn" (click)="cerrarModal()">cancelar</button>
    <button mat-raised-button  color="primary" (click)="editSave()">Guardar</button>
  </div>
</ng-template>
